{% extends "base.html" %}
{% block title %}THE CRYPTIC VAULT | Support{% endblock %}

{% block content %}
<h1 class="text-3xl font-bold text-market-gold mb-6 border-b border-market-border pb-3">SUPPORT PORTAL</h1>

<div class="bg-market-gray p-6 rounded-lg border border-market-border">
    <p class="text-gray-400 mb-4">
        Use this portal for technical issues, bug reports, or account disputes. **Always use PGP when sending sensitive information.**
    </p>

    {% if success %}
    <div class="bg-green-900 bg-opacity-30 border border-green-700 p-3 rounded-md mb-4">
        <p class="text-green-300 font-semibold">{{ success }}</p>
    </div>
    {% endif %}

    {% if error %}
    <div class="bg-red-900 bg-opacity-30 border border-red-700 p-3 rounded-md mb-4">
        <p class="text-red-300 font-semibold">ERROR: {{ error }}</p>
    </div>
    {% endif %}

    <form method="POST" action="{{ url_for('support') }}" class="space-y-4">
        <div>
            <label for="subject" class="block text-sm font-medium text-gray-300 mb-1">Subject</label>
            <input type="text" id="subject" name="subject" required 
                    class="w-full px-4 py-2 bg-market-border border border-gray-600 rounded-md text-white focus:ring-market-gold focus:border-market-gold"
                    placeholder="Brief summary of your issue">
        </div>

        <div>
            <label for="body" class="block text-sm font-medium text-gray-300 mb-1">Details (Encrypted content preferred)</label>
            <textarea id="body" name="body" rows="8" required 
                      class="w-full px-4 py-2 bg-market-border border border-gray-600 rounded-md text-white focus:ring-market-gold focus:border-market-gold"
                      placeholder="Describe the issue in detail. If your PGP key is set, the response will be encrypted."></textarea>
        </div>

        <button type="submit" class="w-full bg-market-gold text-black font-bold py-2 hover:bg-yellow-400 transition duration-150 rounded-sm">
            SUBMIT SUPPORT REQUEST
        </button>
    </form>
</div>
{% endblock %}